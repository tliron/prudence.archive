<%velocity #set($prudence.cacheDuration = 5000) #set($prefix = '../') %><%& '../fragments/header/' %>

<h2>Logging</h2>

<p>Prudence comes pre-configured with robust logging, based on log4j.
You are encouraged to make use of logging in your applications, but even
if you don't, you will still finds the logs useful. Prudence's servers,
routers, language engines and other components all send messages to the
logs, making them an invaluable tool for debugging, monitoring and
understanding.</p>

<p>By default, logs are sent to the /logs/ directory, using a configurable
rolling log scheme. web.log records all server requests, using Apache's
format, while everything else goes to prudence.log.</p>

<h3>Sending Messages</h3>

<h3>logging.conf</h3>

<h4>Appenders and Loggers</h4>

<h4>Separate Logs Per Application</h4>

<h3>web.log</h3>

<p>You can throw Prudence's web.log into almost any Apache log file
analyzer. Here's an example using the ubiquitous
<a href="http://www.analog.cx/">Analog</a>:
</p>

<pre>
analog \
	-C'LOGFORMAT (%Y-%m-%d\t%h:%n:%j\t%S\t%u\t%j\t%j\t%j\t%r\t%q\t%c\t%b\t%j\t%T\t%v\t%B\t%f)' \
	-C'LOCALCHARTDIR local/images/' \
	-C'CHARTDIR images/' \
	-C'HOSTNAME "mysite.org"' \
	log/web.log \
	-Oapplications/myapp/web/static/analog/index.html
</pre>


<%& '../fragments/footer/' %>