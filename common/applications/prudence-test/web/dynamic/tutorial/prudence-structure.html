<%velocity #set($document.cacheDuration=5000) #set($prefix = '../') %><%& '../fragments/header' %>

<h2>Prudence Structure</h2>

<p>Prudence comes ready to rumble!</p>

<p>You just need to have Java Virtual Machine (JVM) support on your
environment, minimally version 5. An excellent, open-source JVM is available
as part of the <a href="http://openjdk.java.net/">OpenJDK</a> project.</p>

<p>Java Runtime Environment (JRE) is enough for Prudence. You need the
Java Development Kit (JDK) only if you plan to write code in Java.</p>

<p>Also, Java Standard Edition (JEE) is good enough; Prudence does not require
Enterprise Edition features. In fact, you can see Prudence as a RESTful, minimal
alternative to developing web applications under Java Enterprise Edition.</p>

<p>A single installation of Prudence works as a container for
multiple applications and servers, so there is rarely a need to install
it more than once per machine.</p>

<p>Here's what Prudence contains:</p>

<h3>Run Script</h3>

<p>Use run.sh for Unix-like operating systems, such as Linux and
Mac OS X, and run.bat for Windows. Running it should start a Prudence
server with all applications. It will print out a simple welcome message
with the basic server and and available applications. From then on,
Prudence will avoid sending output to the console, and instead output to
rolling logs under the /logs/ directory.</p>

<p>Prudence can actually run several servers at the same time, as
well as handle several web sites via virtual hosting.</p>

<div class="note">
<p>This run scripts are there for getting you quickly
up and running, however it is strongly recommended that you run
<a href="daemon">Prudence as a daemon</a> for production systems.
</p>
</div>

<div class="tutorial">
<p>Try it! Prudence should announce the availability of the demo
application, and that it is listening on port 8080. Open your web
browser to http://localhost:8080/, and have fun playing with the demos.
</p>
</div>

<h3>/applications/</h3>

<p>This is where you put your applications, each occupying a
subdirectory. Your application's subdirectory name serves as a useful
default name for your application. It is also the default base URL, and
the default logging name. You can change any of these default easily.</p>

<p>More about the structure of applications <a href="application-structure">here</a>.</p>

<h3>/logs/</h3>

<p>This is where your rolling logs will appear. Prudence logs are
highly configurable and powerful. In particular, your web.log will show
all requests hitting your Prudence server, using a standard format that
can be consumes and analyzed by software.</p>

<p>More on logging <a href="logging">here</a>.</p>

<h3>/component/</h3>

<p>This is where the Prudence component gets initialized. The
"component" is the overall container which manages the servers and the
applications.</p>

<h3>/defaults/</h3>

<p>Here you'll find defaults used in /component/ and /applications/.
Generally, you'll not want to edit these, but instead override them
there. Prudence tries to make configuration easy by using sensible default
behavior, and making it easy to override it. However, you can always
edit these files directly if necessary.</p>

<p>All files here are straightforward code.
They're really nothing much more than scripts for bootstrapping the
Prudence. Going through them can give you some idea of how Prudence
assembles its parts together.</p>

<h3>/conf/</h3>

<p>There are a few essential configuration files here. Most
important is logging.conf, but you will also find some optional files to
help you configure Prudence to run as a daemon.</p>

<h3>/lib/</h3>

<p>Here you will find Prudence's main libraries as well as support
libraries. The basic directory is for Java libraries (JARs), but you may
find subdirectories for libraries in other languages, such as Python.</p>

<p>If you add your own JARs, make sure to edit run.sh or run.bat to
accommodate your additions.</p>

<div class="note">
<p>Java 6 can pick them up automatically. Daemon can,
too.</p>
</div>

<%& '../fragments/footer' %>
