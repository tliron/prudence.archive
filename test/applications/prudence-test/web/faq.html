<%rhino-nonjdk document.cacheDuration = 5000; %><%& 'header-fragment' %>

<h2>Frequently Asked Questions</h2>

<h3>How well does Prudence perform? How well does it scale?</h3>
<p>
There are at least three aspects to consider:
</p>

<h4>1. Serving HTTP</h4>
<p>
Prudence comes with <a href="https://grizzly.dev.java.net/">Grizzly</a>,
an HTTP server based on Java's non-blocking I/O API. Grizzly handles concurrent HTTP
requests very well, and serves static files at scales comparable to
popular HTTP servers.
</p><p>
Grizzly can be replaced with <a href="http://www.mortbay.org/jetty/">Jetty</a>,
which offers similar performance with more features, or any other connector supported
by <a href="http://www.restlet.org/">Restlet</a>. 
</p>

<h4>2. Generating HTML and other text</h4>
<p>
Prudence supports two modes for generating text, each with its own performance characteristics:
</p><p>
<i>Caching mode:</i> First, the entire document is run, with its output sent into a buffer. This buffer is then cached, and <i>only then</i> sent to the client. This is the default mode and
recommended for most documents. Scriptlets can be used to control the duration of the document's individual cache.  
</p><p>
<i>Streaming mode:</i> Output is sent to the client <i>while</i> the document runs. This is recommended for documents that need to output a very large amount of text, which might take a long time,
or that might otherwise encounter slow-downs while running. In either case, you want the client to receive ongoing output. The output of the document is not cached.
</p><p>
Scriptlets can be used switch between modes according to changing circumstances. For example, to increase caching duration during heavy loads, to decrease it during periods where data changes often,
or to stream in the case of an expected large output.
</p>

<h4>3. Running code</h4>
<p>
There may be a delay when using a language engine for the first time in an application, as it loads and initializes itself.
Also, each page or resource might require compilation during its first use. Once they're up and running, though, they can
perform and scale very well. Furthermore, the Java virtual machine learns and adapts as it runs, and performance can improve
the more the application is used. 
</p><p>
Exact performance characteristics depend on the language and engine used, but it probably won't really matter.
It's been shown that for the vast majority of web applications, the performance of the web programming language is rarely the bottleneck.
The rel deciding factors are the usually performance of the backend data-driving technologies and architectures.
</p><p>
However, if your application requires heavy computation work, performance can be an issue. 
The <a href="http://shootout.alioth.debian.org/">Bechmarks Game</a> can
give you some comparisons of different scripting engines running high-computation programs.
In any case, if you have a piece of intensive code that really needs to perform well, it's probably best to write
it in Java and access it from the document. You can even write it in C or assembly, and have it linked to Java via JNI.
</p> 

<%& 'footer-fragment' %>